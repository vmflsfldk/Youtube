import { useCallback } from 'react';
import { DEFAULT_LOCALE, Locale, SUPPORTED_LOCALES, useLanguage } from '../contexts/LanguageContext';

type TranslationDictionary = Record<string, string>;

type Translations = Record<Locale, TranslationDictionary>;

const translations: Translations = {
  ko: {
    'app.brand': 'UtaHub',
    'app.title': 'UtaHub Studio',
    'header.eyebrow': 'UtaHub',
    'layout.sidebarNavLabel': '주요 탐색',
    'layout.logoAlt': 'UtaHub 로고',
    'nav.library.label': '아티스트 라이브러리',
    'nav.library.description': '최신 아티스트 목록과 영상을 탐색하세요.',
    'nav.latest.label': '최신 업데이트',
    'nav.latest.description': '방금 등록된 영상과 클립을 한눈에 확인하세요.',
    'nav.catalog.label': '곡 DB',
    'nav.catalog.description': '등록된 곡과 클립을 아티스트·원곡자 기준으로 찾아보세요.',
    'nav.playlist.label': '영상·클립 모음',
    'nav.playlist.description': '저장된 영상과 클립을 한눈에 확인하세요.',
    'latest.panel.heading': '최신 업데이트',
    'latest.panel.description': '가장 최근에 추가된 영상과 클립을 빠르게 확인해 보세요.',
    'latest.panel.videosHeading': '최근 영상',
    'latest.panel.videosEmpty': '표시할 최신 영상이 없습니다.',
    'latest.panel.clipsHeading': '최근 클립',
    'latest.panel.clipsEmpty': '표시할 최신 클립이 없습니다.',
    'latest.panel.addedAt': '등록:',
    'latest.panel.viewInLibrary': '라이브러리에서 보기',
    'latest.panel.openOnYoutube': 'YouTube 열기',
    'latest.panel.clipRange': '재생 구간:',
    'latest.panel.sourceVideo': '원본 영상:',
    'latest.panel.videoFallbackTitle': '제목 없는 영상',
    'latest.panel.thumbnailPlaceholder': '썸네일 없음',
    'latest.panel.thumbnailAltSuffix': '썸네일',
    'language.toggleLabel': '언어 선택',
    'language.option.ko': '한국어',
    'language.option.ja': '日本語',
    'language.option.en': 'English',
    'language.option.koAria': '한국어로 보기',
    'language.option.jaAria': '일본어로 보기',
    'language.option.enAria': '영어로 보기',
    'auth.sectionLabelAuthenticated': '계정 관리',
    'auth.sectionLabelGuest': '로그인 안내',
    'auth.headingAuthenticated': '내 계정',
    'auth.headingGuest': '로그인',
    'auth.descriptionAuthenticated': '닉네임을 바로 수정하고 계정을 관리하세요.',
    'auth.descriptionGuest': '아티스트 관리를 위해 Google 계정으로 로그인하세요.',
    'auth.greetingLoading': '사용자 정보를 불러오는 중...',
    'auth.nicknameLabel': '닉네임',
    'auth.nicknamePlaceholder': '닉네임',
    'auth.nicknameSave': '닉네임 저장',
    'auth.signOut': '로그아웃',
    'auth.googleLoading': '구글 로그인 준비 중...',
    'auth.googleDescription': 'Google 계정으로 로그인 후 전체 기능을 이용할 수 있습니다.',
    'mobile.appbar.brand': 'UtaHub',
    'mobile.auth.overlayLabelAuthenticated': '계정 관리',
    'mobile.auth.overlayLabelGuest': '로그인',
    'mobile.auth.closeAriaLabel': '로그인 창 닫기',
    'mobile.actions.filterOpen': '필터 열기',
    'mobile.actions.filterClose': '필터 닫기',
    'mobile.actions.authOpenAuthenticated': '계정 관리 열기',
    'mobile.actions.authOpenGuest': '로그인 패널 열기',
    'artistSearch.label': '아티스트 검색',
    'artistSearch.placeholder': '이름, 채널 또는 태그 검색',
    'artistSearch.clear': '지우기',
    'artistSearch.clearAria': '검색어 지우기',
    'artistSearch.modeGroupLabel': '검색 범위',
    'artistSearch.mode.all': '모두',
    'artistSearch.mode.name': '이름',
    'artistSearch.mode.tag': '태그',
    'artistDirectory.mobileTabsAria': '콘텐츠 전환',
    'artistDirectory.mobileTab.library': '아티스트',
    'artistDirectory.mobileTab.catalog': '노래',
    'artistDirectory.mobileContext.selectedSuffix': '선택됨',
    'artistDirectory.mobileContext.all': '전체 아티스트',
    'artistDirectory.selectedLabel': '선택된 아티스트',
    'artistDirectory.heading': '아티스트 디렉토리',
    'artistDirectory.subtitle': '전체 이용자가 확인할 수 있는 공개 목록입니다.',
    'artistDirectory.register': '아티스트 등록',
    'artistDirectory.filters.countryLabel': '서비스 국가',
    'artistDirectory.filters.countryAll': '전체',
    'artistDirectory.filters.agencyLabel': '소속사',
    'artistDirectory.filters.agencyAll': '전체',
    'artistDirectory.empty': '등록된 아티스트가 없습니다.',
    'artistDirectory.back': '아티스트 목록으로 돌아가기',
    'catalog.loading': '곡 정보를 불러오는 중입니다…',
    'catalog.emptyHeading': '아직 등록된 곡 정보가 없습니다.',
    'catalog.emptyDescription': '영상이나 클립을 추가하면 이곳에서 곡별 데이터를 확인할 수 있어요.',
    'catalog.noRecords': '표시할 곡이 없습니다.',
    'catalog.filtersAriaLabel': '곡 필터',
    'catalog.filters.fieldLabel': '검색 대상',
    'catalog.filters.fieldOption.song': '곡 제목',
    'catalog.filters.fieldOption.artist': '아티스트',
    'catalog.filters.fieldOption.composer': '원곡자',
    'catalog.filters.queryLabel': '검색어',
    'catalog.filters.queryPlaceholder': '검색어 입력',
    'catalog.regionAriaLabel': '곡 카탈로그',
    'catalog.noMatches': '조건에 맞는 곡이 없습니다.',
    'catalog.tableCaption': '곡 카탈로그',
    'catalog.columns.song': '곡 제목',
    'catalog.columns.clip': '클립/영상',
    'catalog.columns.artist': '아티스트',
    'catalog.columns.composer': '원곡자',
    'catalog.fallback.artist': '표기되지 않은 아티스트',
    'catalog.fallback.composer': '표기되지 않은 원곡자',
    'catalog.fallback.song': '곡 제목 미정',
    'catalog.fallback.clip': '클립 제목 미정'
  },
  en: {
    'app.brand': 'UtaHub',
    'app.title': 'UtaHub Studio',
    'header.eyebrow': 'UtaHub',
    'layout.sidebarNavLabel': 'Primary navigation',
    'layout.logoAlt': 'UtaHub logo',
    'nav.library.label': 'Artist Library',
    'nav.library.description': 'Browse the latest artists and their videos.',
    'nav.latest.label': 'Latest Updates',
    'nav.latest.description': 'Catch newly added videos and clips at a glance.',
    'nav.catalog.label': 'Song Catalog',
    'nav.catalog.description': 'Find registered songs and clips by artist or composer.',
    'nav.playlist.label': 'Video & Clip Collections',
    'nav.playlist.description': 'Review saved videos and clips at a glance.',
    'latest.panel.heading': 'Latest Updates',
    'latest.panel.description': 'Review the most recently added videos and clips in one place.',
    'latest.panel.videosHeading': 'Recent Videos',
    'latest.panel.videosEmpty': 'No recent videos to display.',
    'latest.panel.clipsHeading': 'Recent Clips',
    'latest.panel.clipsEmpty': 'No recent clips to display.',
    'latest.panel.addedAt': 'Added:',
    'latest.panel.viewInLibrary': 'View in library',
    'latest.panel.openOnYoutube': 'Open on YouTube',
    'latest.panel.clipRange': 'Clip range:',
    'latest.panel.sourceVideo': 'Source video:',
    'latest.panel.videoFallbackTitle': 'Untitled video',
    'latest.panel.thumbnailPlaceholder': 'No thumbnail',
    'latest.panel.thumbnailAltSuffix': 'thumbnail',
    'language.toggleLabel': 'Language selection',
    'language.option.ko': '한국어',
    'language.option.ja': '日本語',
    'language.option.en': 'English',
    'language.option.koAria': 'View in Korean',
    'language.option.jaAria': 'View in Japanese',
    'language.option.enAria': 'View in English',
    'auth.sectionLabelAuthenticated': 'Account management',
    'auth.sectionLabelGuest': 'Sign-in guidance',
    'auth.headingAuthenticated': 'My Account',
    'auth.headingGuest': 'Sign in',
    'auth.descriptionAuthenticated': 'Update your nickname and manage your account instantly.',
    'auth.descriptionGuest': 'Sign in with Google to manage artists.',
    'auth.greetingLoading': 'Loading user information...',
    'auth.nicknameLabel': 'Nickname',
    'auth.nicknamePlaceholder': 'Nickname',
    'auth.nicknameSave': 'Save nickname',
    'auth.signOut': 'Sign out',
    'auth.googleLoading': 'Preparing Google sign-in...',
    'auth.googleDescription': 'Sign in with Google to unlock all features.',
    'mobile.appbar.brand': 'UtaHub',
    'mobile.auth.overlayLabelAuthenticated': 'Account management',
    'mobile.auth.overlayLabelGuest': 'Sign in',
    'mobile.auth.closeAriaLabel': 'Close sign-in dialog',
    'mobile.actions.filterOpen': 'Open filters',
    'mobile.actions.filterClose': 'Close filters',
    'mobile.actions.authOpenAuthenticated': 'Open account management',
    'mobile.actions.authOpenGuest': 'Open sign-in panel',
    'artistSearch.label': 'Artist search',
    'artistSearch.placeholder': 'Search by name, channel, or tag',
    'artistSearch.clear': 'Clear',
    'artistSearch.clearAria': 'Clear search query',
    'artistSearch.modeGroupLabel': 'Search scope',
    'artistSearch.mode.all': 'All',
    'artistSearch.mode.name': 'Name',
    'artistSearch.mode.tag': 'Tag',
    'artistDirectory.mobileTabsAria': 'Switch content',
    'artistDirectory.mobileTab.library': 'Artists',
    'artistDirectory.mobileTab.catalog': 'Songs',
    'artistDirectory.mobileContext.selectedSuffix': 'selected',
    'artistDirectory.mobileContext.all': 'All artists',
    'artistDirectory.selectedLabel': 'Selected artist',
    'artistDirectory.heading': 'Artist Directory',
    'artistDirectory.subtitle': 'A public list visible to all users.',
    'artistDirectory.register': 'Register artist',
    'artistDirectory.filters.countryLabel': 'Service region',
    'artistDirectory.filters.countryAll': 'All',
    'artistDirectory.filters.agencyLabel': 'Agency',
    'artistDirectory.filters.agencyAll': 'All',
    'artistDirectory.empty': 'No artists have been registered yet.',
    'artistDirectory.back': 'Back to artist list',
    'catalog.loading': 'Loading song information…',
    'catalog.emptyHeading': 'No song information has been registered yet.',
    'catalog.emptyDescription': 'Add videos or clips to see song-level insights here.',
    'catalog.noRecords': 'There are no songs to display.',
    'catalog.filtersAriaLabel': 'Song filters',
    'catalog.filters.fieldLabel': 'Search field',
    'catalog.filters.fieldOption.song': 'Song title',
    'catalog.filters.fieldOption.artist': 'Artist',
    'catalog.filters.fieldOption.composer': 'Composer',
    'catalog.filters.queryLabel': 'Search',
    'catalog.filters.queryPlaceholder': 'Type to filter the catalog',
    'catalog.regionAriaLabel': 'Song catalog',
    'catalog.noMatches': 'No songs match your filters.',
    'catalog.tableCaption': 'Song catalog',
    'catalog.columns.song': 'Song title',
    'catalog.columns.clip': 'Clip/Video',
    'catalog.columns.artist': 'Artist',
    'catalog.columns.composer': 'Composer',
    'catalog.fallback.artist': 'Uncredited artist',
    'catalog.fallback.composer': 'Uncredited composer',
    'catalog.fallback.song': 'Untitled song',
    'catalog.fallback.clip': 'Untitled clip'
  },
  ja: {
    'app.brand': 'UtaHub',
    'app.title': 'UtaHub Studio',
    'header.eyebrow': 'UtaHub',
    'layout.sidebarNavLabel': '主要ナビゲーション',
    'layout.logoAlt': 'UtaHub ロゴ',
    'nav.library.label': 'アーティストライブラリ',
    'nav.library.description': '最新のアーティストと動画を探しましょう。',
    'nav.latest.label': '最新アップデート',
    'nav.latest.description': '追加された動画とクリップをまとめて確認できます。',
    'nav.catalog.label': '楽曲カタログ',
    'nav.catalog.description': '登録された楽曲やクリップをアーティストや原曲制作者ごとに探せます。',
    'nav.playlist.label': '動画・クリップコレクション',
    'nav.playlist.description': '保存した動画とクリップを一目で確認できます。',
    'latest.panel.heading': '最新アップデート',
    'latest.panel.description': '直近で追加された動画とクリップを一目でチェックしましょう。',
    'latest.panel.videosHeading': '最新の動画',
    'latest.panel.videosEmpty': '表示できる最新動画がありません。',
    'latest.panel.clipsHeading': '最新のクリップ',
    'latest.panel.clipsEmpty': '表示できる最新クリップがありません。',
    'latest.panel.addedAt': '追加:',
    'latest.panel.viewInLibrary': 'ライブラリで表示',
    'latest.panel.openOnYoutube': 'YouTubeで開く',
    'latest.panel.clipRange': '再生区間:',
    'latest.panel.sourceVideo': '元の動画:',
    'latest.panel.videoFallbackTitle': 'タイトル未設定の動画',
    'latest.panel.thumbnailPlaceholder': 'サムネイルなし',
    'latest.panel.thumbnailAltSuffix': 'サムネイル',
    'language.toggleLabel': '言語選択',
    'language.option.ko': '한국어',
    'language.option.ja': '日本語',
    'language.option.en': 'English',
    'language.option.koAria': '韓国語で表示',
    'language.option.jaAria': '日本語で表示',
    'language.option.enAria': '英語で表示',
    'auth.sectionLabelAuthenticated': 'アカウント管理',
    'auth.sectionLabelGuest': 'ログイン案内',
    'auth.headingAuthenticated': 'マイアカウント',
    'auth.headingGuest': 'ログイン',
    'auth.descriptionAuthenticated': 'ニックネームをすぐに編集してアカウントを管理しましょう。',
    'auth.descriptionGuest': 'アーティスト管理のために Google アカウントでログインしてください。',
    'auth.greetingLoading': 'ユーザー情報を読み込み中...',
    'auth.nicknameLabel': 'ニックネーム',
    'auth.nicknamePlaceholder': 'ニックネーム',
    'auth.nicknameSave': 'ニックネームを保存',
    'auth.signOut': 'ログアウト',
    'auth.googleLoading': 'Google ログインを準備中...',
    'auth.googleDescription': 'Google アカウントでログインするとすべての機能を利用できます。',
    'mobile.appbar.brand': 'UtaHub',
    'mobile.auth.overlayLabelAuthenticated': 'アカウント管理',
    'mobile.auth.overlayLabelGuest': 'ログイン',
    'mobile.auth.closeAriaLabel': 'ログインウィンドウを閉じる',
    'mobile.actions.filterOpen': 'フィルターを開く',
    'mobile.actions.filterClose': 'フィルターを閉じる',
    'mobile.actions.authOpenAuthenticated': 'アカウント管理を開く',
    'mobile.actions.authOpenGuest': 'ログインパネルを開く',
    'artistSearch.label': 'アーティスト検索',
    'artistSearch.placeholder': '名前・チャンネル・タグで検索',
    'artistSearch.clear': 'クリア',
    'artistSearch.clearAria': '検索語句をクリア',
    'artistSearch.modeGroupLabel': '検索範囲',
    'artistSearch.mode.all': 'すべて',
    'artistSearch.mode.name': '名前',
    'artistSearch.mode.tag': 'タグ',
    'artistDirectory.mobileTabsAria': 'コンテンツを切り替え',
    'artistDirectory.mobileTab.library': 'アーティスト',
    'artistDirectory.mobileTab.catalog': '楽曲',
    'artistDirectory.mobileContext.selectedSuffix': 'を選択',
    'artistDirectory.mobileContext.all': 'すべてのアーティスト',
    'artistDirectory.selectedLabel': '選択されたアーティスト',
    'artistDirectory.heading': 'アーティストディレクトリ',
    'artistDirectory.subtitle': 'すべての利用者が閲覧できる公開リストです。',
    'artistDirectory.register': 'アーティスト登録',
    'artistDirectory.filters.countryLabel': 'サービス地域',
    'artistDirectory.filters.countryAll': 'すべて',
    'artistDirectory.filters.agencyLabel': '所属',
    'artistDirectory.filters.agencyAll': 'すべて',
    'artistDirectory.empty': '登録されたアーティストがいません。',
    'artistDirectory.back': 'アーティスト一覧に戻る',
    'catalog.loading': '楽曲情報を読み込んでいます…',
    'catalog.emptyHeading': 'まだ楽曲情報が登録されていません。',
    'catalog.emptyDescription': '動画やクリップを追加すると、ここで楽曲データを確認できます。',
    'catalog.noRecords': '表示できる楽曲がありません。',
    'catalog.filtersAriaLabel': '楽曲フィルター',
    'catalog.filters.fieldLabel': '検索対象',
    'catalog.filters.fieldOption.song': '楽曲タイトル',
    'catalog.filters.fieldOption.artist': 'アーティスト',
    'catalog.filters.fieldOption.composer': '作曲者',
    'catalog.filters.queryLabel': 'キーワード',
    'catalog.filters.queryPlaceholder': 'キーワードを入力',
    'catalog.regionAriaLabel': '楽曲カタログ',
    'catalog.noMatches': '条件に一致する楽曲がありません。',
    'catalog.tableCaption': '楽曲カタログ',
    'catalog.columns.song': '楽曲タイトル',
    'catalog.columns.clip': 'クリップ/動画',
    'catalog.columns.artist': 'アーティスト',
    'catalog.columns.composer': '作曲者',
    'catalog.fallback.artist': 'クレジットなしのアーティスト',
    'catalog.fallback.composer': 'クレジットなしの作曲者',
    'catalog.fallback.song': 'タイトル未定の楽曲',
    'catalog.fallback.clip': 'タイトル未定のクリップ'
  }
};

export type TranslationKey = keyof (typeof translations)['ko'];

const fallbackLocale = DEFAULT_LOCALE;

export const translate = (locale: Locale, key: TranslationKey): string => {
  const table = translations[locale];
  if (table && key in table) {
    return table[key];
  }
  return translations[fallbackLocale][key] ?? key;
};

export const useTranslation = (key: TranslationKey): string => {
  const { locale } = useLanguage();
  return translate(locale, key);
};

export const useTranslations = (): ((key: TranslationKey) => string) => {
  const { locale } = useLanguage();
  return useCallback((key: TranslationKey) => translate(locale, key), [locale]);
};

export { translations as dictionaries, SUPPORTED_LOCALES };
